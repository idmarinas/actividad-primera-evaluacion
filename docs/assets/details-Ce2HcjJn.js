import{B as $,o as u,c,a as e,u as E,t as l,e as n,w as r,h as s,_ as m,n as _,g,l as S,T as D,i as z,F as k,A as P,m as F,b as a,j as I,k as N}from"./index-7ICxZEgW.js";import{b as V,u as O,a as R,c as j}from"./orders-D1XKvkAF.js";import{C,a as b,M as A,T as G,E as q,_ as X}from"./edit-xq2O1IL7.js";import{_ as H}from"./alert-igvuwsM2.js";const J={},K={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"};function Q(x,d){return u(),c("svg",K,d[0]||(d[0]=[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12h.01M3 18h.01M3 6h.01M8 12h13M8 18h13M8 6h13"},null,-1)]))}const U=$(J,[["render",Q]]),W={class:"flex flex-row gap-2"},Y={class:"inline-flex items-center gap-3"},Z={class:"flex gap-2"},le={__name:"details",props:{id:String},setup(x){const{modal:d,openModal:L,closeModal:M}=V(),w=P(),p=x;p.id===void 0&&w.push({name:"order_list"});const B=E(),f=O(),h=R(),i=f.find(p.id);function T(v){f.remove(v),w.push({name:"order_list"})}return B.title=i.client,(v,t)=>{const y=F("RouterLink");return u(),c(k,null,[e("h2",null,l(`Pedido nº ${p.id}`),1),e("div",W,[n(m,{"button-style":"danger",class:"rounded-lg",onClick:t[0]||(t[0]=o=>s(L)(s(i))),icon:!0},{default:r(()=>[n(G,{width:"24"}),t[2]||(t[2]=a(" Borrar pedido"))]),_:1}),t[5]||(t[5]=e("div",{class:"flex-1"},null,-1)),n(y,{to:{name:"order_list"},class:"not-prose"},{default:r(()=>[n(m,{class:"rounded-lg",icon:!0},{default:r(()=>[n(U,{width:"24"}),t[3]||(t[3]=a(" Lista de pedidos"))]),_:1})]),_:1}),n(y,{to:{name:"order_edit",params:{id:p.id}},class:"not-prose"},{default:r(()=>[n(m,{"button-style":"warning",class:"rounded-lg",icon:!0},{default:r(()=>[n(q,{width:"24"}),t[4]||(t[4]=a(" Editar pedido"))]),_:1})]),_:1},8,["to"])]),t[13]||(t[13]=e("h3",null,"Datos",-1)),e("dl",null,[t[6]||(t[6]=e("dt",null,"Fecha del pedido",-1)),e("dd",null,l(new Date(s(i).orderDate).toLocaleString(Intl.Locale,s(j))),1),t[7]||(t[7]=e("dt",null,"Procesado",-1)),e("dd",null,"Se han cortado un "+l(s(f).processById(s(i).id).toLocaleString(Intl.Locale,{style:"percent"}))+" de las piezas",1),t[8]||(t[8]=e("dt",null,"Servido",-1)),e("dd",null,[e("div",Y,[e("span",{class:_(s(i).served?"text-green-500":"text-red-500")},[(u(),g(S(s(i).served?C:b),{width:"24"}))],2),e("span",null,"El pedido "+l(s(i).served?"ya":"no")+" se ha entregado",1)])])]),e("h3",null,"Piezas ("+l(s(i).pieces.length)+")",1),e("table",null,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Largo"),e("th",null,"Ancho"),e("th",null,"Grosor"),e("th",null,"Color"),e("th",null,"Superficie"),e("th",null,"Volumen"),e("th",null,"Cortada")])],-1)),n(D,{tag:"tbody",name:"list"},{default:r(()=>[(u(!0),c(k,null,I(s(i).pieces,o=>(u(),c("tr",{key:o,class:"flex flex-col md:table-row"},[e("td",null,l(o.dimensions.length)+" cm",1),e("td",null,l(o.dimensions.width)+" cm",1),e("td",null,l(o.dimensions.thickness)+" cm",1),e("td",null,l(o.color),1),e("td",null,[a(l(s(h).area(o.dimensions,o.bothFaces).toLocaleString())+" m",1),t[9]||(t[9]=e("sup",null,"2",-1))]),e("td",null,[a(l(s(h).volume(o.dimensions).toLocaleString())+" m",1),t[10]||(t[10]=e("sup",null,"3",-1))]),e("td",null,[n(X,{style:N(o.cut?"success":"danger")},{default:r(()=>[a(l(o.cut?"Sí":"No"),1)]),_:2},1032,["style"])])]))),128))]),_:1})]),(u(),g(z,{to:"body"},[n(A,{opened:s(d).opened,onClose:s(M)},{title:r(()=>[a(" ¿Seguro que desea borrar el pedido de "+l(s(d).item.client)+"? ",1)]),default:r(()=>[e("p",Z,[e("span",{class:_(s(d).item.served?"text-green-500":"text-red-500")},[(u(),g(S(s(d).item.served?C:b),{width:"24"}))],2),a(" El pedido "+l(s(d).item.served?"ya":"no")+" se ha entregado ",1)]),n(H,{type:"warning"},{default:r(()=>{var o;return[a("Esto borrara el pedido así como las ("+l((o=s(d).item.pieces)==null?void 0:o.length)+") piezas, cortadas o no, asociadas al mismo y no es posible recuperar el pedido.",1)]}),_:1})]),actions:r(()=>[n(m,{"button-style":"danger",class:"rounded-md",onClick:t[1]||(t[1]=o=>T(s(d).item))},{default:r(()=>t[12]||(t[12]=[a("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{le as default};
//# sourceMappingURL=details-Ce2HcjJn.js.map
