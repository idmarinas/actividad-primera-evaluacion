import{u as h,e as S,c,d as e,b as n,w as a,_ as f,T as k,a as _,f as t,g as v,F as g,o as i,h as r,i as w,t as o,n as z,j as $,k as B}from"./index-DH_JJOkS.js";import{c as L,a as M}from"./orders-qhLDz2BK.js";import{A as T,_ as j,a as A}from"./edit-Cs5Tq70I.js";import{M as E,C as N,a as V,_ as F,b as P}from"./edit-Dcant1Zw.js";const q={class:"flex flex-row justify-end"},D={class:"h-full flex items-center justify-center md:justify-end gap-2"},G={class:"flex gap-2"},Q={__name:"list",setup(X){const y=h(),u=L(),{modal:d,openModal:b,closeModal:m}=M(),x=S(()=>u.all());function C(p){u.remove(p),m()}return y.title="Lista de piezas",(p,s)=>(i(),c(g,null,[e("div",q,[n(f,{"button-style":"success",class:"rounded-md"},{default:a(()=>[n(T,{width:"32"}),s[1]||(s[1]=r()),s[2]||(s[2]=e("span",null,"Añadir pieza",-1))]),_:1})]),e("table",null,[s[5]||(s[5]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Largo"),e("th",null,"Ancho"),e("th",null,"Grosor"),e("th",null,"Color"),e("th",null,"Superficie"),e("th",null,"Volumen"),e("th",null,"Cortada"),e("th")])],-1)),n(k,{tag:"tbody",name:"list"},{default:a(()=>[(i(!0),c(g,null,w(x.value,l=>(i(),c("tr",{key:l,class:"flex flex-col md:table-row"},[e("td",null,o(l.dimensions.length)+" cm",1),e("td",null,o(l.dimensions.width)+" cm",1),e("td",null,o(l.dimensions.thickness)+" cm",1),e("td",null,o(l.color),1),e("td",null,[r(o(t(u).area(l.dimensions,l.bothFaces).toLocaleString())+" m",1),s[3]||(s[3]=e("sup",null,"2",-1))]),e("td",null,[r(o(t(u).volume(l.dimensions).toLocaleString())+" m",1),s[4]||(s[4]=e("sup",null,"3",-1))]),e("td",null,[n(P,{style:B(l.cut?"success":"danger")},{default:a(()=>[r(o(l.cut?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",D,[n(j),n(A,{onClick:H=>t(b)(l)},null,8,["onClick"])])]))),128))]),_:1})]),(i(),_(v,{to:"body"},[n(E,{opened:t(d).opened,onClose:t(m)},{title:a(()=>[r(" ¿Seguro que desea borrar la pieza "+o(t(d).item.id)+"? ",1)]),default:a(()=>[e("p",G,[e("span",{class:z(t(d).order.served?"text-green-500":"text-red-500")},[(i(),_($(t(d).order.served?N:V),{width:"24"}))],2),r(" El pedido "+o(t(d).order.served?"ya":"no")+" se ha entregado ",1)]),n(F,{type:"warning"},{default:a(()=>[r('Esto borrara la pieza del cliente "'+o(t(d).order.client)+'" y en caso de que el pedido no tenga más piezas se borrará también. Está acción no se puede deshacer',1)]),_:1})]),actions:a(()=>[n(f,{"button-style":"danger",class:"rounded-md",onClick:s[0]||(s[0]=l=>C(t(d).item))},{default:a(()=>s[6]||(s[6]=[r("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64))}};export{Q as default};
