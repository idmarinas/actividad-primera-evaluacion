import{u as h,e as k,c as m,d as e,b as o,w as r,_ as f,T as S,a as _,f as n,g as w,F as g,o as c,h as d,i as z,t as a,n as L,j as $,k as B,r as M}from"./index-B1bQJuSh.js";import{c as T,a as j,_ as A}from"./alert-Bwh3HYZs.js";import{A as E}from"./add-BnyjPR9q.js";import{M as N,_ as P,C as V,a as F}from"./edit-BewcTDo-.js";import{_ as q,a as D}from"./edit-M8fRY45-.js";const G={class:"flex flex-row justify-end"},O={class:"h-full flex items-center justify-center md:justify-end gap-2"},R={class:"flex gap-2"},W={__name:"list",setup(X){const y=h(),i=T(),{modal:l,closeModal:p}=j(),x=k(()=>i.all());function C(u){l.value.opened=!0,l.value.item=u,l.value.order=i.findOrderOfPiece(u.order)}function v(u){i.remove(u),p()}return y.title="Lista de piezas",(u,t)=>{const b=M("RouterLink");return c(),m(g,null,[e("div",G,[o(f,{"button-style":"success",class:"rounded-md inline-flex gap-2 items-center"},{default:r(()=>[o(E,{width:"24"}),t[1]||(t[1]=d()),t[2]||(t[2]=e("span",null,"Añadir pieza",-1))]),_:1})]),e("table",null,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Largo"),e("th",null,"Ancho"),e("th",null,"Grosor"),e("th",null,"Color"),e("th",null,"Superficie"),e("th",null,"Volumen"),e("th",null,"Cortada"),e("th")])],-1)),o(S,{tag:"tbody",name:"list"},{default:r(()=>[(c(!0),m(g,null,z(x.value,s=>(c(),m("tr",{key:s,class:"flex flex-col md:table-row"},[e("td",null,a(s.dimensions.length)+" cm",1),e("td",null,a(s.dimensions.width)+" cm",1),e("td",null,a(s.dimensions.thickness)+" cm",1),e("td",null,a(s.color),1),e("td",null,[d(a(n(i).area(s.dimensions,s.bothFaces).toLocaleString())+" m",1),t[3]||(t[3]=e("sup",null,"2",-1))]),e("td",null,[d(a(n(i).volume(s.dimensions).toLocaleString())+" m",1),t[4]||(t[4]=e("sup",null,"3",-1))]),e("td",null,[o(P,{style:L(s.cut?"success":"danger")},{default:r(()=>[d(a(s.cut?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",O,[o(b,{to:{name:"order_edit",params:{id:s.order}}},{default:r(()=>[o(q)]),_:2},1032,["to"]),o(D,{onClick:H=>C(s)},null,8,["onClick"])])]))),128))]),_:1})]),(c(),_(w,{to:"body"},[o(N,{opened:n(l).opened,onClose:n(p)},{title:r(()=>[d(" ¿Seguro que desea borrar la pieza "+a(n(l).item.id)+"? ",1)]),default:r(()=>[e("p",R,[e("span",{class:$(n(l).order.served?"text-green-500":"text-red-500")},[(c(),_(B(n(l).order.served?V:F),{width:"24"}))],2),d(" El pedido "+a(n(l).order.served?"ya":"no")+" se ha entregado ",1)]),o(A,{type:"warning"},{default:r(()=>[d('Esto borrara la pieza del cliente "'+a(n(l).order.client)+'" y en caso de que el pedido no tenga más piezas se borrará también. Está acción no se puede deshacer',1)]),_:1})]),actions:r(()=>[o(f,{"button-style":"danger",class:"rounded-md",onClick:t[0]||(t[0]=s=>v(n(l).item))},{default:r(()=>t[6]||(t[6]=[d("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{W as default};
//# sourceMappingURL=list-DczJ6Q3O.js.map
