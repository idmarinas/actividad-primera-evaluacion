import{D as p,q as g,E as v}from"./index-Cg5nVZOc.js";const P=p("pieces-private",()=>{let n=I("pieces-private");const e=g(n);function u(){localStorage.setItem("pieces-private",JSON.stringify(e.value))}function i(o){let c=!1;return o.forEach(d=>{const f=e.value.indexOf(d);f>-1&&(e.value.splice(f,1),c=!0)}),c}function a(o){const c=e.value.indexOf(o);return c>-1?(e.value.splice(c,1),!0):!1}return{state:e,save:u,delPiecesOfOrder:i,remove:a}}),h=p("pieces",()=>{const n=P(),e=y();function u(r){let s=r.length*r.width*r.thickness;return s=s/1e6,s}function i(r,s){let m=s?2:1;return r.length*r.width*m/1e4}function a(){return n.state}function o(){n.save()}function c(r){return n.delPiecesOfOrder(r)?(n.save(),!0):!1}function d(r){return n.remove(r)?((n.state.filter(m=>m.order===r.order)||[]).length<1&&e.remove(e.findById(r.order)),n.save(),!0):!1}function f(r){return e.findById(r)}function O(r){return n.state.filter(s=>s.order===r)||[]}function t(r){return r=Number.parseInt(r),n.state.find(s=>s.id===r)}function l(){let r=v();for(;t(r)!==void 0;)r=v();return r}return{volume:u,area:i,all:a,save:o,delPiecesOfOrder:c,remove:d,findOrderOfPiece:f,findPiecesOfOrder:O,generatePieceId:l}});function I(n){let e=localStorage.getItem(n);try{e=JSON.parse(e)}catch{e=!1}return e}const w={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};function B(){const n=h(),e=g({opened:!1,item:{},order:{}});function u(a){e.value.opened=!0,e.value.item=a,e.value.order=n.findOrderOfPiece(a.order)}function i(){e.value.opened=!1,e.value.item={},e.value.order={}}return{modal:e,openModal:u,closeModal:i}}const S=p("orders-private",()=>{let n=I("orders-private");const e=g(n);function u(){localStorage.setItem("orders-private",JSON.stringify(e.value))}function i(a){const o=e.value.indexOf(a);return o>-1?(e.value.splice(o,1),!0):!1}return{state:e,save:u,remove:i}}),y=p("orders",()=>{const n=S(),e=h();function u(t){if(t.id===void 0)return;let l=t.pieces.length;return t.pieces.filter(s=>s.cut===!0).length/l}function i(t){return t=Number.parseInt(t),u(d(t))}function a(){return n.state}function o(){n.save()}function c(t){return t=d(t.id),(t.pieces.length<1||e.delPiecesOfOrder(t.pieces))&&n.remove(t)?(n.save(),!0):!1}function d(t){t=Number.parseInt(t);let l=f(t)||{};return l.pieces=e.findPiecesOfOrder(t),l}function f(t){return t=Number.parseInt(t),n.state.find(l=>l.id===t)}function O(){let t=v();for(;f(t)!==void 0;)t=v();return t}return{process:u,all:a,save:o,remove:c,find:d,findById:f,generateOrderId:O,processById:i}});export{B as a,w as b,h as c,y as u};
//# sourceMappingURL=orders-BfuGO-KL.js.map
