import{u as k,e as v,c,d as e,b as o,w as a,_ as f,T as S,a as _,f as l,g as w,F as g,o as i,h as r,i as z,t as n,n as L,j as $,k as B,r as M}from"./index-Cg5nVZOc.js";import{c as T,a as j}from"./orders-BfuGO-KL.js";import{A}from"./add-mb2AeVf-.js";import{M as E,_ as N,C as V,a as F,b as P}from"./edit-BZ9c6_rY.js";import{_ as q,a as D}from"./edit-CjK8cYnT.js";const G={class:"flex flex-row justify-end"},R={class:"h-full flex items-center justify-center md:justify-end gap-2"},X={class:"flex gap-2"},W={__name:"list",setup(H){const y=k(),u=T(),{modal:d,openModal:C,closeModal:m}=j(),b=v(()=>u.all());function x(p){u.remove(p),m()}return y.title="Lista de piezas",(p,s)=>{const h=M("RouterLink");return i(),c(g,null,[e("div",G,[o(f,{"button-style":"success",class:"rounded-md"},{default:a(()=>[o(A,{width:"32"}),s[1]||(s[1]=r()),s[2]||(s[2]=e("span",null,"Añadir pieza",-1))]),_:1})]),e("table",null,[s[5]||(s[5]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Largo"),e("th",null,"Ancho"),e("th",null,"Grosor"),e("th",null,"Color"),e("th",null,"Superficie"),e("th",null,"Volumen"),e("th",null,"Cortada"),e("th")])],-1)),o(S,{tag:"tbody",name:"list"},{default:a(()=>[(i(!0),c(g,null,z(b.value,t=>(i(),c("tr",{key:t,class:"flex flex-col md:table-row"},[e("td",null,n(t.dimensions.length)+" cm",1),e("td",null,n(t.dimensions.width)+" cm",1),e("td",null,n(t.dimensions.thickness)+" cm",1),e("td",null,n(t.color),1),e("td",null,[r(n(l(u).area(t.dimensions,t.bothFaces).toLocaleString())+" m",1),s[3]||(s[3]=e("sup",null,"2",-1))]),e("td",null,[r(n(l(u).volume(t.dimensions).toLocaleString())+" m",1),s[4]||(s[4]=e("sup",null,"3",-1))]),e("td",null,[o(N,{style:L(t.cut?"success":"danger")},{default:a(()=>[r(n(t.cut?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",R,[o(h,{to:{name:"order_edit",params:{id:t.order}}},{default:a(()=>[o(q)]),_:2},1032,["to"]),o(D,{onClick:I=>l(C)(t)},null,8,["onClick"])])]))),128))]),_:1})]),(i(),_(w,{to:"body"},[o(E,{opened:l(d).opened,onClose:l(m)},{title:a(()=>[r(" ¿Seguro que desea borrar la pieza "+n(l(d).item.id)+"? ",1)]),default:a(()=>[e("p",X,[e("span",{class:$(l(d).order.served?"text-green-500":"text-red-500")},[(i(),_(B(l(d).order.served?V:F),{width:"24"}))],2),r(" El pedido "+n(l(d).order.served?"ya":"no")+" se ha entregado ",1)]),o(P,{type:"warning"},{default:a(()=>[r('Esto borrara la pieza del cliente "'+n(l(d).order.client)+'" y en caso de que el pedido no tenga más piezas se borrará también. Está acción no se puede deshacer',1)]),_:1})]),actions:a(()=>[o(f,{"button-style":"danger",class:"rounded-md",onClick:s[0]||(s[0]=t=>x(l(d).item))},{default:a(()=>s[6]||(s[6]=[r("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{W as default};
//# sourceMappingURL=list-CcJdoh_o.js.map
