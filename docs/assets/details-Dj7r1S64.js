import{l as B,o as u,c as f,d as e,u as E,t as l,b as n,w as d,f as t,_ as m,n as y,a as g,i as S,T as D,g as z,F as k,m as P,j as F,h as r,r as N,k as V}from"./index-D4zp-2qO.js";import{a as O,u as R,e as j,C,b,M as G,T as I,E as q,c as A,_ as X,d as H}from"./edit-B0Ui9pwJ.js";const J={},K={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"};function Q(x,a){return u(),f("svg",K,a[0]||(a[0]=[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12h.01M3 18h.01M3 6h.01M8 12h13M8 18h13M8 6h13"},null,-1)]))}const U=B(J,[["render",Q]]),W={class:"flex flex-row gap-2"},Y={class:"inline-flex items-center gap-3"},Z={class:"flex gap-2"},te={__name:"details",props:{id:String},setup(x){const{modal:a,openModal:L,closeModal:_}=O(),w=P(),p=x;console.log(p),p.id===void 0&&w.push({name:"order_list"});const M=E(),c=R(),v=j(),i=c.find(p.id);function T(h){c.remove(h),w.push({name:"order_list"})}return M.title=i.client,(h,s)=>{const $=F("RouterLink");return u(),f(k,null,[e("h2",null,l(`Pedido nº ${p.id}`),1),e("div",W,[n(m,{"button-style":"danger",class:"rounded-md",onClick:s[0]||(s[0]=o=>t(L)(t(i)))},{default:d(()=>[n(I,{width:"32"}),s[2]||(s[2]=r(" Borrar pedido"))]),_:1}),s[5]||(s[5]=e("div",{class:"flex-1"},null,-1)),n($,{to:{name:"order_list"},class:"not-prose"},{default:d(()=>[n(m,{class:"rounded-md"},{default:d(()=>[n(U,{width:"32"}),s[3]||(s[3]=r(" Lista de pedidos"))]),_:1})]),_:1}),n(m,{"button-style":"warning",class:"rounded-md"},{default:d(()=>[n(q,{width:"32"}),s[4]||(s[4]=r(" Editar pedido"))]),_:1})]),s[14]||(s[14]=e("h3",null,"Datos",-1)),e("dl",null,[s[6]||(s[6]=e("dt",null,"Fecha del pedido",-1)),e("dd",null,l(new Date(t(i).orderDate).toLocaleString(Intl.Locale,t(A))),1),s[7]||(s[7]=e("dt",null,"Procesado",-1)),e("dd",null,"Se han cortado un "+l(t(c).process(t(i)).toLocaleString(Intl.Locale,{style:"percent"}))+" de las piezas",1),s[8]||(s[8]=e("dt",null,"Servido",-1)),e("dd",null,[e("div",Y,[e("span",{class:y(t(i).served?"text-green-500":"text-red-500")},[(u(),g(S(t(i).served?C:b),{width:"24"}))],2),e("span",null,"El pedido "+l(t(i).served?"ya":"no")+" se ha entregado",1)])])]),e("h3",null,"Piezas ("+l(t(i).pieces.length)+")",1),e("table",null,[s[11]||(s[11]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Largo"),e("th",null,"Ancho"),e("th",null,"Grosor"),e("th",null,"Color"),e("th",null,"Superficie"),e("th",null,"Volumen"),e("th",null,"Cortada")])],-1)),n(D,{tag:"tbody",name:"list"},{default:d(()=>[(u(!0),f(k,null,N(t(i).pieces,o=>(u(),f("tr",{key:o,class:"flex flex-col md:table-row"},[e("td",null,l(o.dimensions.length)+" cm",1),e("td",null,l(o.dimensions.width)+" cm",1),e("td",null,l(o.dimensions.thickness)+" cm",1),e("td",null,l(o.color),1),e("td",null,[r(l(t(v).area(o.dimensions,o.bothFaces).toLocaleString())+" m",1),s[9]||(s[9]=e("sup",null,"2",-1))]),e("td",null,[r(l(t(v).volume(o.dimensions).toLocaleString())+" m",1),s[10]||(s[10]=e("sup",null,"3",-1))]),e("td",null,[n(H,{style:V(o.cut?"success":"danger")},{default:d(()=>[r(l(o.cut?"Sí":"No"),1)]),_:2},1032,["style"])])]))),128))]),_:1})]),(u(),g(z,{to:"body"},[n(G,{opened:t(a).opened,onClose:t(_)},{title:d(()=>[r(" ¿Seguro que desea borrar el pedido de "+l(t(a).item.client)+"? ",1)]),default:d(()=>[e("p",Z,[e("span",{class:y(t(a).item.served?"text-green-500":"text-red-500")},[(u(),g(S(t(a).item.served?C:b),{width:"24"}))],2),r(" El pedido "+l(t(a).item.served?"ya":"no")+" se ha entregado ",1)]),n(X,{type:"warning"},{default:d(()=>s[12]||(s[12]=[r("Esto borrara el pedido así como las piezas asociadas al mismo y no es posible recuperar el pedido.")])),_:1})]),actions:d(()=>[n(m,{"button-style":"danger",class:"rounded-md",onClick:s[1]||(s[1]=o=>T(t(a).item))},{default:d(()=>s[13]||(s[13]=[r("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{te as default};
