import{o as n,a as c,w as s,b as t,d as e,_ as p,u as k,e as S,c as _,T as L,f as a,g as $,F as C,r as h,h as i,i as B,t as u,n as E,j as I,k as D}from"./index-DChD_NpM.js";import{I as M,u as T,a as j,b as N,_ as z}from"./alert-xmeGH1Gq.js";import{A as F}from"./add-Bk8vJTg1.js";import{M as O,_ as V,C as A,a as P}from"./trash-DHxO10RJ.js";import{_ as R}from"./del-CvqCCHQi.js";import{E as q}from"./edit-Bf7zmbBz.js";const G={__name:"edit",setup(y){return(m,r)=>(n(),c(p,{"button-style":"yellow",circle:!0},{default:s(()=>[t(q,{width:"24"}),r[0]||(r[0]=e("span",{class:"sr-only"},"Editar",-1))]),_:1}))}},X={__name:"info",setup(y){return(m,r)=>(n(),c(p,{"button-style":"info",circle:!0},{default:s(()=>[t(M,{width:"24"}),r[0]||(r[0]=e("span",{class:"sr-only"},"Información",-1))]),_:1}))}},H={class:"flex flex-row justify-end"},J={class:"h-full flex items-center justify-center md:justify-end gap-2"},K={class:"flex gap-2"},se={__name:"list",setup(y){const m=k(),r=T(),{modal:d,openModal:b,closeModal:g}=j(),v=S(()=>r.all());function w(x){r.remove(x),g()}return m.title="Lista de pedidos",(x,o)=>{const f=h("RouterLink");return n(),_(C,null,[e("div",H,[t(f,{to:{name:"order_add"},class:"not-prose"},{default:s(()=>[t(p,{"button-style":"success",class:"rounded-lg",icon:!0},{default:s(()=>[t(F,{width:"24"}),o[1]||(o[1]=i()),o[2]||(o[2]=e("span",null,"Crear pedido",-1))]),_:1})]),_:1})]),e("table",null,[o[3]||(o[3]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Cliente"),e("th",null,"Fecha pedido"),e("th",null,"Procesado"),e("th",null,"Servido"),e("th")])],-1)),t(L,{tag:"tbody",name:"list"},{default:s(()=>[(n(!0),_(C,null,B(v.value,l=>(n(),_("tr",{key:l,class:"flex flex-col md:table-row"},[e("td",null,u(l.client),1),e("td",null,u(new Date(l.orderDate).toLocaleString(Intl.Locale,a(N))),1),e("td",null,u(a(r).processById(l.id).toLocaleString(Intl.Locale,{style:"percent"})),1),e("td",null,[t(V,{style:E(l.served?"success":"danger")},{default:s(()=>[i(u(l.served?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",J,[t(f,{to:{name:"order_details",params:{id:l.id}},class:"not-prose"},{default:s(()=>[t(X)]),_:2},1032,["to"]),t(f,{to:{name:"order_edit",params:{id:l.id}},class:"not-prose"},{default:s(()=>[t(G)]),_:2},1032,["to"]),t(R,{onClick:Q=>a(b)(l)},null,8,["onClick"])])]))),128))]),_:1})]),(n(),c($,{to:"body"},[t(O,{opened:a(d).opened,onClose:a(g)},{title:s(()=>[i(" ¿Seguro que desea borrar el pedido de "+u(a(d).item.client)+"? ",1)]),default:s(()=>[e("p",K,[e("span",{class:I(a(d).item.served?"text-green-500":"text-red-500")},[(n(),c(D(a(d).item.served?A:P),{width:"24"}))],2),i(" El pedido "+u(a(d).item.served?"ya":"no")+" se ha entregado ",1)]),t(z,{type:"warning"},{default:s(()=>o[4]||(o[4]=[i("Esto borrara el pedido así como las piezas asociadas al mismo y no es posible recuperar el pedido.")])),_:1})]),actions:s(()=>[t(p,{"button-style":"danger",class:"rounded-md",onClick:o[0]||(o[0]=l=>w(a(d).item))},{default:s(()=>o[5]||(o[5]=[i("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{se as default};
//# sourceMappingURL=list-Bppu9cR9.js.map
