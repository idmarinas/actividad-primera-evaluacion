{"version":3,"file":"home-BBc4yRcn.js","sources":["../../src/components/cards/task.vue","../../src/views/home.vue"],"sourcesContent":["<script setup>\n\tconst props = defineProps({\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'default',\n\t\t\tvalidate (value) {\n\t\t\t\treturn ['blue', 'orange', 'red', 'green'].includes(value)\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction borderClass() {\n\t\tlet style = 'flex flex-row justify-center items-center min-w-44 w-full p-5 rounded-lg shadow-xl border-l-4'\n\n\t\tswitch (props.color) {\n\t\t\tcase 'blue': return style + ' border-blue-600'\n\t\t\tcase 'red': return style + ' border-red-600'\n\t\t\tcase 'orange': return style + ' border-orange-600'\n\t\t\tcase 'green': return style + ' border-green-600'\n\t\t\n\t\t\tdefault: return style + ' border-gold-sand-600'\n\t\t}\n\t}\n\n\tfunction percentClass() {\n\t\tlet style = 'flex items-center px-3 py-0.5 rounded-full'\n\n\t\tswitch (props.color) {\n\t\t\tcase 'blue': return style + ' bg-blue-200 text-blue-800'\n\t\t\tcase 'red': return style + ' bg-red-200 text-red-800'\n\t\t\tcase 'orange': return style + ' bg-orange-200 text-orange-800'\n\t\t\tcase 'green': return style + ' bg-green-200 text-green-800'\n\t\t\n\t\t\tdefault: return style + ' bg-gold-sand-200 text-gold-sand-800'\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div :class=\"borderClass()\" class='sm:flex-col sm:max-w-52 bg-gold-sand-50'>\n\t\t<div class=\"flex justify-between w-full\">\n\t\t\t<div><slot name=\"icon\" /></div>\n\t\t\t<div>\n\t\t\t\t<div :class=\"percentClass()\" class=\" text-xs\"><slot name=\"percent\">100%</slot></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div>\n\t\t\t<div class=\"font-bold text-5xl text-center mb-2\"><slot name=\"count\" /></div>\n\t\t\t<div><slot name=\"name\" /></div>\n\t\t</div>\n\t</div>\n</template>\n","<script setup>\nimport Task from '@/components/cards/task.vue'\nimport Pedidos from '@/components/icons/pedidos.vue'\nimport Pieza from '@/components/icons/pieza.vue'\n\nimport { useOrdersStore } from '@/stores/orders'\nimport { usePageTitleStore } from '@/stores/page-title'\nimport { usePiecesStore } from '@/stores/pieces'\nimport { computed } from 'vue'\n\n\nconst pageStore = usePageTitleStore()\nconst ordersStore = useOrdersStore()\nconst piecesStore = usePiecesStore()\n\nconst ordersList = computed(() => ordersStore.all())\nconst piecesList = computed(() => piecesStore.all())\n\nconst ordersStatus = computed(() => {\n\tlet total = ordersList.value.length\n\tlet completed = ordersList.value.filter(item => item.served === true).length\n\tlet waiting = ordersList.value.filter(item => item.served === false)\n\tlet undelivered = waiting.filter(item => ordersStore.process(item) === 1).length\n\twaiting = waiting.length - undelivered\n\n\treturn {\n\t\ttotal,\n\t\tcompleted,\n\t\twaiting,\n\t\tundelivered\n\t}\n})\n\nconst piecesStatus = computed(() => {\n\tlet total = piecesList.value.length\n\tlet completed = piecesList.value.filter(item => item.cut === true).length\n\tlet waiting = total - completed\n\n\treturn {\n\t\ttotal,\n\t\tcompleted,\n\t\twaiting\n\t}\n})\n\npageStore.title = 'Portada'\n</script>\n\n<template>\n\t<article>\n\t\t<h2>Pedidos</h2>\n\n\t\t<div class=\"flex justify-center gap-3\">\n\t\t\t<Task color=\"blue\">\n\t\t\t\t<template #icon><Pedidos width=\"24\" /></template>\n\t\t\t\t<template #percent>100%</template>\n\t\t\t\t<template #count>{{ ordersStatus.total.toLocaleString() }}</template>\n\t\t\t\t<template #name>Totales</template>\n\t\t\t</Task>\n\t\t\t\n\t\t\t<Task color=\"green\">\n\t\t\t\t<template #icon><Pedidos width=\"24\" /></template>\n\t\t\t\t<template #percent>{{ (ordersStatus.completed / ordersStatus.total).toLocaleString(Intl.Locale, { style: 'percent' }) }}</template>\n\t\t\t\t<template #count>{{ ordersStatus.completed.toLocaleString() }}</template>\n\t\t\t\t<template #name>Completados</template>\n\t\t\t</Task>\n\n\t\t\t<Task color=\"orange\">\n\t\t\t\t<template #icon><Pedidos width=\"24\" /></template>\n\t\t\t\t<template #percent>{{ (ordersStatus.waiting / ordersStatus.total).toLocaleString(Intl.Locale, { style: 'percent' }) }}</template>\n\t\t\t\t<template #count>{{ ordersStatus.waiting.toLocaleString() }}</template>\n\t\t\t\t<template #name>Pendientes</template>\n\t\t\t</Task>\n\n\t\t\t<Task color=\"red\">\n\t\t\t\t<template #icon><Pedidos width=\"24\" /></template>\n\t\t\t\t<template #percent>{{ (ordersStatus.undelivered / ordersStatus.total).toLocaleString(Intl.Locale, { style: 'percent' }) }}</template>\n\t\t\t\t<template #count>{{ ordersStatus.undelivered.toLocaleString() }}</template>\n\t\t\t\t<template #name>Sin entregar</template>\n\t\t\t</Task>\n\t\t</div>\n\n\t\t<h2>Piezas</h2>\n\n\t\t<div class=\"flex justify-center gap-3\">\n\t\t\t<Task color=\"blue\">\n\t\t\t\t<template #icon><Pieza width=\"24\" /></template>\n\t\t\t\t<template #percent>100%</template>\n\t\t\t\t<template #count>{{ piecesStatus.total.toLocaleString() }}</template>\n\t\t\t\t<template #name>Totales</template>\n\t\t\t</Task>\n\t\t\t\n\t\t\t<Task color=\"green\">\n\t\t\t\t<template #icon><Pieza width=\"24\" /></template>\n\t\t\t\t<template #percent>{{ (piecesStatus.completed / piecesStatus.total).toLocaleString(Intl.Locale, { style: 'percent' }) }}</template>\n\t\t\t\t<template #count>{{ piecesStatus.completed.toLocaleString() }}</template>\n\t\t\t\t<template #name>Procesadas</template>\n\t\t\t</Task>\n\n\t\t\t<Task color=\"orange\">\n\t\t\t\t<template #icon><Pieza width=\"24\" /></template>\n\t\t\t\t<template #percent>{{ (piecesStatus.waiting / piecesStatus.total).toLocaleString(Intl.Locale, { style: 'percent' }) }}</template>\n\t\t\t\t<template #count>{{ piecesStatus.waiting.toLocaleString() }}</template>\n\t\t\t\t<template #name>Sin Procesar</template>\n\t\t\t</Task>\n\t\t</div>\n\t</article>\n</template>\n"],"names":["props","__props","borderClass","style","percentClass","pageStore","usePageTitleStore","ordersStore","useOrdersStore","piecesStore","usePiecesStore","ordersList","computed","piecesList","ordersStatus","total","completed","item","waiting","undelivered","piecesStatus"],"mappings":"iZACC,MAAMA,EAAQC,EAUd,SAASC,GAAc,CACtB,IAAIC,EAAQ,gGAEZ,OAAQH,EAAM,MAAK,CAClB,IAAK,OAAQ,OAAOG,EAAQ,mBAC5B,IAAK,MAAO,OAAOA,EAAQ,kBAC3B,IAAK,SAAU,OAAOA,EAAQ,qBAC9B,IAAK,QAAS,OAAOA,EAAQ,oBAE7B,QAAS,OAAOA,EAAQ,uBAC3B,CACA,CAEC,SAASC,GAAe,CACvB,IAAID,EAAQ,6CAEZ,OAAQH,EAAM,MAAK,CAClB,IAAK,OAAQ,OAAOG,EAAQ,6BAC5B,IAAK,MAAO,OAAOA,EAAQ,2BAC3B,IAAK,SAAU,OAAOA,EAAQ,iCAC9B,IAAK,QAAS,OAAOA,EAAQ,+BAE7B,QAAS,OAAOA,EAAQ,sCAC3B,CACA,sbCxBA,MAAME,EAAYC,EAAiB,EAC7BC,EAAcC,EAAc,EAC5BC,EAAcC,EAAc,EAE5BC,EAAaC,EAAS,IAAML,EAAY,IAAK,CAAA,EAC7CM,EAAaD,EAAS,IAAMH,EAAY,IAAK,CAAA,EAE7CK,EAAeF,EAAS,IAAM,CACnC,IAAIG,EAAQJ,EAAW,MAAM,OACzBK,EAAYL,EAAW,MAAM,OAAOM,GAAQA,EAAK,SAAW,EAAI,EAAE,OAClEC,EAAUP,EAAW,MAAM,OAAOM,GAAQA,EAAK,SAAW,EAAK,EAC/DE,EAAcD,EAAQ,OAAOD,GAAQV,EAAY,QAAQU,CAAI,IAAM,CAAC,EAAE,OAC1E,OAAAC,EAAUA,EAAQ,OAASC,EAEpB,CACN,MAAAJ,EACA,UAAAC,EACA,QAAAE,EACA,YAAAC,CACF,CACA,CAAC,EAEKC,EAAeR,EAAS,IAAM,CACnC,IAAIG,EAAQF,EAAW,MAAM,OACzBG,EAAYH,EAAW,MAAM,OAAOI,GAAQA,EAAK,MAAQ,EAAI,EAAE,OAC/DC,EAAUH,EAAQC,EAEtB,MAAO,CACN,MAAAD,EACA,UAAAC,EACA,QAAAE,CACF,CACA,CAAC,EAED,OAAAb,EAAU,MAAQ"}