import{o as u,a as p,w as l,b as s,d as e,_ as f,u as S,e as w,c,T as L,f as o,g as $,F as g,h as d,r as h,t as i,n as B,i as D,j as I,k as M}from"./index-D4zp-2qO.js";import{I as T,u as j,a as N,M as z,C as E,b as F,_ as O,c as V,d as A}from"./edit-B0Ui9pwJ.js";import{A as P,_ as R,a as q}from"./edit-AuTEILbo.js";const G={__name:"info",setup(x){return(m,n)=>(u(),p(f,{"button-style":"info",circle:!0},{default:l(()=>[s(T,{width:"24"}),n[0]||(n[0]=e("span",{class:"sr-only"},"Información",-1))]),_:1}))}},X={class:"flex flex-row justify-end"},H={class:"h-full flex items-center justify-center md:justify-end gap-2"},J={class:"flex gap-2"},Y={__name:"list",setup(x){const m=S(),n=j(),{modal:r,openModal:C,closeModal:_}=N(),b=w(()=>n.all());function v(y){n.remove(y),_()}return m.title="Lista de pedidos",(y,t)=>{const k=I("RouterLink");return u(),c(g,null,[e("div",X,[s(f,{"button-style":"success",class:"rounded-md"},{default:l(()=>[s(P,{width:"32"}),t[1]||(t[1]=d()),t[2]||(t[2]=e("span",null,"Crear pedido",-1))]),_:1})]),e("table",null,[t[3]||(t[3]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Cliente"),e("th",null,"Fecha pedido"),e("th",null,"Procesado"),e("th",null,"Servido"),e("th")])],-1)),s(L,{tag:"tbody",name:"list"},{default:l(()=>[(u(!0),c(g,null,h(b.value,a=>(u(),c("tr",{key:a,class:"flex flex-col md:table-row"},[e("td",null,i(a.client),1),e("td",null,i(new Date(a.orderDate).toLocaleString(Intl.Locale,o(V))),1),e("td",null,i(o(n).process(a).toLocaleString(Intl.Locale,{style:"percent"})),1),e("td",null,[s(A,{style:M(a.served?"success":"danger")},{default:l(()=>[d(i(a.served?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",H,[s(k,{to:{name:"order_details",params:{id:a.id}}},{default:l(()=>[s(G)]),_:2},1032,["to"]),s(R),s(q,{onClick:K=>o(C)(a)},null,8,["onClick"])])]))),128))]),_:1})]),(u(),p($,{to:"body"},[s(z,{opened:o(r).opened,onClose:o(_)},{title:l(()=>[d(" ¿Seguro que desea borrar el pedido de "+i(o(r).item.client)+"? ",1)]),default:l(()=>[e("p",J,[e("span",{class:B(o(r).item.served?"text-green-500":"text-red-500")},[(u(),p(D(o(r).item.served?E:F),{width:"24"}))],2),d(" El pedido "+i(o(r).item.served?"ya":"no")+" se ha entregado ",1)]),s(O,{type:"warning"},{default:l(()=>t[4]||(t[4]=[d("Esto borrara el pedido así como las piezas asociadas al mismo y no es posible recuperar el pedido.")])),_:1})]),actions:l(()=>[s(f,{"button-style":"danger",class:"rounded-md",onClick:t[0]||(t[0]=a=>v(o(r).item))},{default:l(()=>t[5]||(t[5]=[d("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64)}}};export{Y as default};
