import{o as u,c as p,r as w,n as C,u as h,a as k,b as e,d as s,w as l,_ as f,T as D,e as _,f as r,g as $,F as x,h as n,i as B,t as d,j as M,k as T}from"./index-C7Grgo_1.js";import{u as j,a as L,M as N,A as z,C as E,b as F,_ as I,c as O,I as V,D as A}from"./trash-7md3Qqhp.js";const P={__name:"badge",props:{style:{type:String,default:"default",validate(i){return["default","success","danger","info"].includes(i)}}},setup(i){const g=i;function c(){return"py-0.5 px-3 text-center rounded-full "+a()}function a(){switch(g.style){case"info":return"ring-blue-200 bg-blue-500 border-blue-500 text-blue-50";case"success":return"ring-green-200 bg-green-500 border-green-500 text-green-50";case"danger":return"ring-red-200 bg-red-500 border-red-500 text-red-50";default:return"ring-gold-sand-200 bg-gold-sand-500 border-gold-sand-500 text-gold-sand-50"}}return(b,m)=>(u(),p("div",{class:C(c())},[w(b.$slots,"default")],2))}},q={class:"flex flex-row justify-end"},G={class:"h-full flex items-center justify-center md:justify-end gap-2"},X={class:"flex gap-2"},Q={__name:"list",setup(i){const g=h(),c=j(),{modal:a,openModal:b,closeModal:m}=L(),v=k(()=>c.all());function S(y){c.remove(y),m()}return g.title="Lista de pedidos",(y,t)=>(u(),p(x,null,[e("div",q,[s(f,{"button-style":"success",class:"rounded-md"},{default:l(()=>[s(z,{width:"32"}),t[1]||(t[1]=n()),t[2]||(t[2]=e("span",null,"Crear pedido",-1))]),_:1})]),e("table",null,[t[3]||(t[3]=e("thead",null,[e("tr",{class:"flex flex-col md:table-row"},[e("th",null,"Cliente"),e("th",null,"Fecha pedido"),e("th",null,"Procesado"),e("th",null,"Servido"),e("th")])],-1)),s(D,{tag:"tbody",name:"list"},{default:l(()=>[(u(!0),p(x,null,B(v.value,o=>(u(),p("tr",{key:o,class:"flex flex-col md:table-row"},[e("td",null,d(o.client),1),e("td",null,d(new Date(o.orderDate).toLocaleString(Intl.Locale,r(O))),1),e("td",null,d(o.process),1),e("td",null,[s(P,{style:T(o.served?"success":"danger")},{default:l(()=>[n(d(o.served?"Sí":"No"),1)]),_:2},1032,["style"])]),e("td",G,[s(f,{"button-style":"info",circle:!0},{default:l(()=>[s(V,{width:"24"})]),_:1}),s(f,{"button-style":"danger",circle:!0,onClick:H=>r(b)(o)},{default:l(()=>[s(A,{width:"24"})]),_:2},1032,["onClick"])])]))),128))]),_:1})]),(u(),_($,{to:"body"},[s(N,{opened:r(a).opened,onClose:r(m)},{title:l(()=>[n(" ¿Seguro que desea borrar el pedido de "+d(r(a).item.client)+"? ",1)]),default:l(()=>[e("p",X,[e("span",{class:C(r(a).item.served?"text-green-500":"text-red-500")},[(u(),_(M(r(a).item.served?E:F),{width:"24"}))],2),n(" El pedido "+d(r(a).item.served?"ya":"no")+" se ha entregado ",1)]),s(I,{type:"warning"},{default:l(()=>t[4]||(t[4]=[n("Esto borrara el pedido así como las piezas asociadas al mismo y no es posible recuperar el pedido.")])),_:1})]),actions:l(()=>[s(f,{"button-style":"danger",class:"rounded-md",onClick:t[0]||(t[0]=o=>S(r(a).item))},{default:l(()=>t[5]||(t[5]=[n("Borrar")])),_:1})]),_:1},8,["opened","onClose"])]))],64))}};export{Q as default};
